<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#494f5c">
	<meta name="msapplication-TileColor" content="#494f5c">
<meta itemprop="name" content="">
<meta itemprop="description" content="工厂模式 1. 简单工厂模式 简单工厂模式（Simple Factory Pattern）：定义一个工厂类，它可以根据参数的不同返回不同类的实例，被创建的实例通常都具有共同的父类。因为在简单工厂模式中用于创建实例的方法是静态（static）方法，因此简单工厂模式又被称为静态工厂方法（Static Factory Method）模式，它属于类创建型模式。 简单工厂模式的要点在于：当你需要什么，只需要传入一个正确的参数，就可以获取你所需要的对象，而无须知道其创建细节。简单工厂模式结构比较简单，其核心是工厂类的设计 例: 我们创建一个工厂结构体，并且创建一个产品接口，工厂可以创建产品，只要在工厂的某个方法中传入不同的参数，就可以返回实现产品接口的不同的对象
  创建工厂结构体
type Factory struct { }   创建产品接口
type Product interface { create() }   创建两个产品
// 产品1，实现产品接口 type Car struct { } func (c Car) create() { fmt.Println(&#34;this is car&#34;) } // 产品2，实现产品接口 type Bicycle struct { } func (b Bicycle) create() { fmt.Println(&#34;this is bicycle&#34;) }   为工厂结构添加一个方法用于生产产品(实例化对象)
func (f Factory) Generate(name string) Product { switch name { case &#34;car&#34;: return Car{} case &#34;bicycle&#34;: return Bicycle{} default: return nil } }   通过传入不同方法得到不同的产品示例">

<meta itemprop="wordCount" content="633">



<meta itemprop="keywords" content="" /><meta property="og:title" content="" />
<meta property="og:description" content="工厂模式 1. 简单工厂模式 简单工厂模式（Simple Factory Pattern）：定义一个工厂类，它可以根据参数的不同返回不同类的实例，被创建的实例通常都具有共同的父类。因为在简单工厂模式中用于创建实例的方法是静态（static）方法，因此简单工厂模式又被称为静态工厂方法（Static Factory Method）模式，它属于类创建型模式。 简单工厂模式的要点在于：当你需要什么，只需要传入一个正确的参数，就可以获取你所需要的对象，而无须知道其创建细节。简单工厂模式结构比较简单，其核心是工厂类的设计 例: 我们创建一个工厂结构体，并且创建一个产品接口，工厂可以创建产品，只要在工厂的某个方法中传入不同的参数，就可以返回实现产品接口的不同的对象
  创建工厂结构体
type Factory struct { }   创建产品接口
type Product interface { create() }   创建两个产品
// 产品1，实现产品接口 type Car struct { } func (c Car) create() { fmt.Println(&#34;this is car&#34;) } // 产品2，实现产品接口 type Bicycle struct { } func (b Bicycle) create() { fmt.Println(&#34;this is bicycle&#34;) }   为工厂结构添加一个方法用于生产产品(实例化对象)
func (f Factory) Generate(name string) Product { switch name { case &#34;car&#34;: return Car{} case &#34;bicycle&#34;: return Bicycle{} default: return nil } }   通过传入不同方法得到不同的产品示例" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/posts/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="工厂模式 1. 简单工厂模式 简单工厂模式（Simple Factory Pattern）：定义一个工厂类，它可以根据参数的不同返回不同类的实例，被创建的实例通常都具有共同的父类。因为在简单工厂模式中用于创建实例的方法是静态（static）方法，因此简单工厂模式又被称为静态工厂方法（Static Factory Method）模式，它属于类创建型模式。 简单工厂模式的要点在于：当你需要什么，只需要传入一个正确的参数，就可以获取你所需要的对象，而无须知道其创建细节。简单工厂模式结构比较简单，其核心是工厂类的设计 例: 我们创建一个工厂结构体，并且创建一个产品接口，工厂可以创建产品，只要在工厂的某个方法中传入不同的参数，就可以返回实现产品接口的不同的对象
  创建工厂结构体
type Factory struct { }   创建产品接口
type Product interface { create() }   创建两个产品
// 产品1，实现产品接口 type Car struct { } func (c Car) create() { fmt.Println(&#34;this is car&#34;) } // 产品2，实现产品接口 type Bicycle struct { } func (b Bicycle) create() { fmt.Println(&#34;this is bicycle&#34;) }   为工厂结构添加一个方法用于生产产品(实例化对象)
func (f Factory) Generate(name string) Product { switch name { case &#34;car&#34;: return Car{} case &#34;bicycle&#34;: return Bicycle{} default: return nil } }   通过传入不同方法得到不同的产品示例"/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title></title>
	<link rel="stylesheet" href="https://example.com/css/style.min.eac77496566fd7d5768fd650ddb0b2b181ca6a2d7c5fdd6fe6b8ba4bf47e566f.css" integrity="sha256-6sd0llZv19V2j9ZQ3bCysYHKai18X91v5ri6S/R+Vm8=" crossorigin="anonymous">
	
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://example.com">Hugo Hermit</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					
				<a href="https://example.com/posts/">Posts</a>
				<a href="https://example.com/about-hugo/">About</a>

				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="https://twitter.com/" target="_blank" rel="noopener me" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://instagram.com/" target="_blank" rel="noopener me" title="Instagram"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line></svg></a><a href="https://github.com/" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://example.com/posts/">Posts</a></li>
			<li><a href="https://example.com/about-hugo/">About</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Jan 1, 0001</span></div>
				<h1></h1>
			</header>
			<div class="content">
				<h4 id="工厂模式">工厂模式<a href="#工厂模式" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h4>
<h4 id="1-简单工厂模式">1. 简单工厂模式<a href="#1-简单工厂模式" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h4>
<pre><code>简单工厂模式（Simple Factory Pattern）：定义一个工厂类，它可以根据参数的不同返回不同类的实例，被创建的实例通常都具有共同的父类。因为在简单工厂模式中用于创建实例的方法是静态（static）方法，因此简单工厂模式又被称为静态工厂方法（Static Factory Method）模式，它属于类创建型模式。
</code></pre><pre><code>简单工厂模式的要点在于：当你需要什么，只需要传入一个正确的参数，就可以获取你所需要的对象，而无须知道其创建细节。简单工厂模式结构比较简单，其核心是工厂类的设计
</code></pre><h5 id="例">例:<a href="#例" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h5>
<p>我们创建一个<code>工厂结构体</code>，并且创建一个产品接口，工厂可以创建产品，只要在工厂的某个方法中传入不同的参数，就可以返回实现产品接口的不同的对象</p>
<ol>
<li>
<p>创建工厂结构体</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Factory</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></li>
<li>
<p>创建产品接口</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Product</span> <span class="kd">interface</span> <span class="p">{</span>
  <span class="nf">create</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></li>
<li>
<p>创建两个产品</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// 产品1，实现产品接口
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">Car</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="nx">Car</span><span class="p">)</span> <span class="nf">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;this is car&#34;</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="c1">// 产品2，实现产品接口
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">Bicycle</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">b</span> <span class="nx">Bicycle</span><span class="p">)</span> <span class="nf">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;this is bicycle&#34;</span><span class="p">)</span>
<span class="p">}</span>
   
</code></pre></div></li>
<li>
<p>为工厂结构添加一个方法用于生产产品(实例化对象)</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"> <span class="kd">func</span> <span class="p">(</span><span class="nx">f</span> <span class="nx">Factory</span><span class="p">)</span> <span class="nf">Generate</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="nx">Product</span> <span class="p">{</span>
     <span class="k">switch</span> <span class="nx">name</span> <span class="p">{</span>
     <span class="k">case</span> <span class="s">&#34;car&#34;</span><span class="p">:</span>
        <span class="k">return</span> <span class="nx">Car</span><span class="p">{}</span>
     <span class="k">case</span> <span class="s">&#34;bicycle&#34;</span><span class="p">:</span>
        <span class="k">return</span> <span class="nx">Bicycle</span><span class="p">{}</span>
     <span class="k">default</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">nil</span>
     <span class="p">}</span>
 <span class="p">}</span>   
</code></pre></div></li>
<li>
<p>通过传入不同方法得到不同的产品示例</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// 创建一个工厂类，在应用中可以将这个工厂类实例作为一个全局变量
</span><span class="c1"></span><span class="nx">factory</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Factory</span><span class="p">)</span>
   
<span class="c1">// 在工厂类中传入不同的参数，获取不同的实例
</span><span class="c1"></span><span class="nx">p1</span> <span class="o">:=</span> <span class="nx">factory</span><span class="p">.</span><span class="nf">Generate</span><span class="p">(</span><span class="s">&#34;car&#34;</span><span class="p">)</span>
<span class="nx">p1</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span> <span class="c1">// output:   this is car
</span><span class="c1"></span>   
<span class="nx">p2</span> <span class="o">:=</span> <span class="nx">factory</span><span class="p">.</span><span class="nf">Generate</span><span class="p">(</span><span class="s">&#34;bycicle&#34;</span><span class="p">)</span>
<span class="nx">p2</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span> <span class="c1">// output:   this is bicycle
</span></code></pre></div></li>
</ol>
<h5 id="简单工厂模式的优缺点">简单工厂模式的优缺点<a href="#简单工厂模式的优缺点" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h5>
<pre><code>优点: 工厂类是整个工厂模式的核心，我们只需要传入给定的信息，就可以创建所需实例，在多人协作的时候，无需知道对象之间的内部依赖，可以直接创建，有利于整个软件体系结构的优化
</code></pre><pre><code>缺点: 工厂类中包含了所有实例的创建逻辑，一旦这个工厂类出现问题，所有实例都会受到影响，并且，工厂类中生产的产品都基于一个共同的接口，一旦要添加不同种类的产品，这就会增加工厂类的复杂度，将不同种类的产品混合在一起，违背了单一职责，系统的灵活性和可维护性都会降低，并且当新增产品的时候，必须要修改工厂类，违背了『系统对扩展开放，对修改关闭』的原则
</code></pre><h4 id="2-工厂方法模式">2. 工厂方法模式<a href="#2-工厂方法模式" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h4>
<p>在 <code>简单工厂</code> 中，依赖于唯一的工厂对象，如果我们需要实例化一个产品，那么就要向工厂中传入一个参数获取对应对象，如果要增加一种产品，就要在工厂中修改创建产品的函数，耦合性过高 ，而在 <code>工厂方法</code> 中，依赖工厂接口，我们可以通过实现工厂接口，创建多种工厂，将对象创建由一个对象负责所有具体类的实例化，变成由一群子类来负责对具体类的实例化，将过程解耦。</p>
<h5 id="例-1">例:<a href="#例-1" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h5>
<ol>
<li>添加工厂接口和产品接口</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Shop</span> <span class="kd">interface</span> <span class="p">{</span>
  <span class="nf">Generate</span><span class="p">(</span><span class="nx">t</span> <span class="kt">string</span><span class="p">)</span> <span class="nx">Transport</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">Transport</span> <span class="kd">interface</span> <span class="p">{</span>
  <span class="nf">create</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div><ol start="2">
<li>
<p>创建工厂结构体和产品结构体</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">BenzCar</span> <span class="kd">struct</span><span class="p">{}</span>
<span class="kd">type</span> <span class="nx">AudiCar</span> <span class="kd">struct</span><span class="p">{}</span>
   
<span class="kd">type</span> <span class="nx">BenzBicycle</span> <span class="kd">struct</span><span class="p">{}</span>
<span class="kd">type</span> <span class="nx">AudiBicycle</span> <span class="kd">struct</span><span class="p">{}</span>
</code></pre></div></li>
<li>
<p>实现产品接口</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">bc</span> <span class="nx">BenzCar</span><span class="p">)</span> <span class="nf">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;this is benz car&#34;</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">ac</span> <span class="nx">AudiCar</span><span class="p">)</span> <span class="nf">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;this is Audi car&#34;</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">bb</span> <span class="nx">BenzBicycle</span><span class="p">)</span> <span class="nf">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;this is benz bicycle&#34;</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">ab</span> <span class="nx">AudiBicycle</span><span class="p">)</span> <span class="nf">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;this is Audi bicycle&#34;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></li>
<li>
<p>创建对应工厂</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">BenzShop</span> <span class="kd">struct</span> <span class="p">{}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">bs</span> <span class="nx">BenzShop</span><span class="p">)</span> <span class="nf">Generate</span><span class="p">(</span><span class="nx">t</span> <span class="kt">string</span><span class="p">)</span> <span class="nx">Transport</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="nx">t</span> <span class="p">{</span>
            <span class="k">case</span> <span class="s">&#34;car&#34;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">BenzCar</span><span class="p">{}</span>
            <span class="k">case</span> <span class="s">&#34;bicycle&#34;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">BenzBicycle</span><span class="p">{}</span>
            <span class="k">default</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">nil</span>
    <span class="p">}</span>
<span class="p">}</span>
   
<span class="kd">type</span> <span class="nx">AudiShop</span> <span class="kd">struct</span> <span class="p">{}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">bs</span> <span class="nx">AudiShop</span><span class="p">)</span> <span class="nf">Generate</span><span class="p">(</span><span class="nx">t</span> <span class="kt">string</span><span class="p">)</span> <span class="nx">Transport</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="nx">t</span> <span class="p">{</span>
            <span class="k">case</span> <span class="s">&#34;car&#34;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">AudiCar</span><span class="p">{}</span>
            <span class="k">case</span> <span class="s">&#34;bicycle&#34;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">AudiBicycle</span><span class="p">{}</span>
            <span class="k">default</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">nil</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></li>
<li>
<p>生产</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">t</span> <span class="nx">Transport</span>
<span class="nx">BenzFactory</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">BenzShop</span><span class="p">)</span>
<span class="nx">b</span> <span class="p">=</span> <span class="nx">BenzFactory</span><span class="p">.</span><span class="nf">Generate</span><span class="p">(</span><span class="s">&#34;car&#34;</span><span class="p">)</span>
<span class="nx">b</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span> <span class="c1">//this is benz car
</span><span class="c1"></span>   
<span class="nx">AudiFactory</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">AudiShop</span><span class="p">)</span>
<span class="nx">b</span> <span class="p">=</span> <span class="nx">AudiFactory</span><span class="p">.</span><span class="nf">Generate</span><span class="p">(</span><span class="s">&#34;car&#34;</span><span class="p">)</span>
<span class="nx">b</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span> <span class="c1">//this is Audi car
</span></code></pre></div></li>
</ol>
<h5 id="工厂方法模式的优缺点">工厂方法模式的优缺点<a href="#工厂方法模式的优缺点" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h5>
<pre><code>优点:

符合“开闭”原则，具有很强的的扩展性、弹性和可维护性。修改时只需要添加对应的工厂类即可

使用了依赖倒置原则，依赖抽象而不是具体，使用（客户）和实现（具体类）松耦合

客户只需要知道所需产品的具体工厂，而无须知道具体工厂的创建产品的过程，甚至不需要知道具体产品的类名。
</code></pre><pre><code>缺点:

每增加一个产品时，都需要一个具体类和一个具体创建者，使得类的个数成倍增加，导致系统类数目过多，复杂性增加

对简单工厂，增加功能修改的是工厂类；对工厂方法，增加功能修改的是产品类。
</code></pre><h4 id="3-抽象工厂模式">3. 抽象工厂模式<a href="#3-抽象工厂模式" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h4>
<p>工厂模式用来创建一组相关或者相互依赖的对象，与工厂方法模式的区别就在于，工厂方法模式针对的是一个产品等级结构；而抽象工厂模式则是针对的多个产品等级结构， 我们可以将一种产品等级想象为一个产品族，所谓的产品族，是指位于不同产品等级结构中功能相关联的产品组成的家族。</p>
<h5 id="例-2">例:<a href="#例-2" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h5>
<ol>
<li>工厂接口和产品接口</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">FactoryInterface</span> <span class="kd">interface</span> <span class="p">{</span>
  	<span class="nf">CreateCar</span><span class="p">()</span> <span class="nx">ProductInterface</span> <span class="c1">// 创建汽车产品
</span><span class="c1"></span>  	<span class="nf">CreateBicycle</span><span class="p">()</span> <span class="nx">ProductInterface</span> <span class="c1">// 创建自行车产品
</span><span class="c1"></span><span class="p">}</span>

<span class="kd">type</span> <span class="nx">ProductInterface</span> <span class="kd">interface</span> <span class="p">{</span>
  	<span class="nf">Intro</span><span class="p">()</span>
<span class="p">}</span>

</code></pre></div><ol start="2">
<li>
<p>实现4种产品</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">BenzCar</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">bc</span> <span class="nx">BenzCar</span><span class="p">)</span> <span class="nf">Intro</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;奔驰汽车&#34;</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="kd">type</span> <span class="nx">BenzBicycle</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">bb</span> <span class="nx">BenzBicycle</span><span class="p">)</span> <span class="nf">Intro</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;奔驰自行车&#34;</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="kd">type</span> <span class="nx">AudiCar</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">ac</span> <span class="nx">AudiCar</span><span class="p">)</span> <span class="nf">Intro</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;奥迪汽车&#34;</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="kd">type</span> <span class="nx">AudiBicycle</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">ab</span> <span class="nx">AudiBicycle</span><span class="p">)</span> <span class="nf">Intro</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;奥迪自行车&#34;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></li>
<li>
<p>实现工厂</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">BenzFactory</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">bf</span> <span class="nx">BenzFactory</span><span class="p">)</span> <span class="nf">CreateCar</span><span class="p">()</span> <span class="nx">ProductInterface</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">BenzCar</span><span class="p">{}</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">bf</span> <span class="nx">BenzFactory</span><span class="p">)</span> <span class="nf">CreateBicycle</span><span class="p">()</span> <span class="nx">ProductInterface</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">BenzBicycle</span><span class="p">{}</span>
<span class="p">}</span>
   
<span class="kd">type</span> <span class="nx">AudiFactory</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">af</span> <span class="nx">AudiFactory</span><span class="p">)</span> <span class="nf">CreateCar</span><span class="p">()</span> <span class="nx">ProductInterface</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">AudiCar</span><span class="p">{}</span>
<span class="p">}</span>
   
<span class="kd">func</span> <span class="p">(</span><span class="nx">bf</span> <span class="nx">AudiFactory</span><span class="p">)</span> <span class="nf">CreateBicycle</span><span class="p">()</span> <span class="nx">ProductInterface</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">AudiBicycle</span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div></li>
<li>
<p>生产</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">f</span> <span class="nx">FactoryInterface</span>
<span class="nx">f</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">BenzFactory</span><span class="p">)</span>
<span class="nx">b</span> <span class="o">:=</span> <span class="nx">f</span><span class="p">.</span><span class="nf">CreateCar</span><span class="p">()</span>
<span class="nx">b</span><span class="p">.</span><span class="nf">Intro</span><span class="p">()</span>
</code></pre></div><h5 id="抽象工厂模式的优缺点">抽象工厂模式的优缺点<a href="#抽象工厂模式的优缺点" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h5>
<pre><code>优点:
抽象工厂模式除了具有工厂方法模式的优点外，最主要的优点就是可以在类的内部对产品族进行约束。所谓的产品族，一般或多或少的都存在一定的关联，抽象工厂模式就可以在类内部对产品族的关联关系进行定义和描述，而不必专门引入一个新的类来进行管理。
</code></pre><pre><code>缺点:
产品族的扩展将是一件十分费力的事情，假如产品族中需要增加一个新的产品，则几乎所有的工厂类都需要进行修改。所以使用抽象工厂模式时，对产品等级结构的划分是非常重要的
</code></pre><h4 id="基于简单工厂模式的日志系统">基于简单工厂模式的日志系统<a href="#基于简单工厂模式的日志系统" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h4>
<ol>
<li>
<p>构建结构体</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Log</span> <span class="kd">struct</span> <span class="p">{</span>
  <span class="nx">Connector</span>                    <span class="c1">// 内嵌连接器，用来定制化功能
</span><span class="c1"></span>  <span class="nx">sync</span><span class="p">.</span><span class="nx">Mutex</span>
  <span class="nx">initialized</span>     <span class="kt">bool</span>         <span class="c1">// 该日志对象是否初始化
</span><span class="c1"></span>  <span class="nx">mode</span>            <span class="kt">int</span>          <span class="c1">// 日志记录模式 同步记录 or 协程池记录
</span><span class="c1"></span>  <span class="nx">pool</span>            <span class="o">*</span><span class="nx">grpool</span><span class="p">.</span><span class="nx">Pool</span> <span class="c1">// 协程池
</span><span class="c1"></span>  <span class="nx">poolExpiredTime</span> <span class="kt">int</span>          <span class="c1">// 协程池模式下，每个空闲协程的存活时间(秒)
</span><span class="c1"></span>  <span class="nx">poolWorkerNum</span>   <span class="kt">int</span>          <span class="c1">// 协程池模式下，允许的最高协程数
</span><span class="c1"></span><span class="p">}</span>
       
</code></pre></div></li>
<li>
<p>构建连接器接口</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">Connector</span> <span class="kd">interface</span> <span class="p">{</span>
    <span class="nf">Fatal</span><span class="p">(</span><span class="nx">message</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span>
    <span class="nf">Error</span><span class="p">(</span><span class="nx">message</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span>
    <span class="nf">Warning</span><span class="p">(</span><span class="nx">message</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span>
    <span class="nf">Debug</span><span class="p">(</span><span class="nx">message</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span>
    <span class="nf">Info</span><span class="p">(</span><span class="nx">message</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span>                           <span class="c1">// 打印
</span><span class="c1"></span>    <span class="nf">Output</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span>                                 <span class="c1">// 将信息输出到文件中
</span><span class="c1"></span>    <span class="nf">GetMessage</span><span class="p">(</span><span class="nx">degree</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">message</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="kt">string</span> <span class="c1">// 将输入的信息添加抬头（例如添加打印时间等）
</span><span class="c1"></span>    <span class="nf">GetFile</span><span class="p">(</span><span class="nx">config</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span> <span class="o">*</span><span class="nx">os</span><span class="p">.</span><span class="nx">File</span>             <span class="c1">// 当前日志要输出到的文件位置,传入一个map 代表配置
</span><span class="c1"></span><span class="p">}</span>
</code></pre></div></li>
<li>
<p>创建日志</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">NewLog</span><span class="p">(</span><span class="nx">mode</span> <span class="kt">int</span><span class="p">)</span> <span class="o">*</span><span class="nx">Log</span> <span class="p">{</span>
    <span class="nx">l</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">Log</span><span class="p">{}</span>
    <span class="nx">l</span><span class="p">.</span><span class="nf">initialize</span><span class="p">()</span>  <span class="c1">// 这里对结构体中的数据做初始化
</span><span class="c1"></span>    <span class="k">return</span> <span class="nx">l</span>
<span class="p">}</span>
</code></pre></div></li>
<li>
<p>加载连接器</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// 加载连接器
</span><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Log</span><span class="p">)</span> <span class="nf">LoadConnector</span><span class="p">(</span><span class="nx">conn</span> <span class="nx">Connector</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">l</span><span class="p">.</span><span class="nx">Connector</span> <span class="p">=</span> <span class="nx">conn</span>  <span class="c1">// 所有实现了连接器接口的对象都可以作为参数传入
</span><span class="c1"></span><span class="p">}</span>
</code></pre></div></li>
<li>
<p>5种级别</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// 重写5种日志级别的打印函数
</span><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Log</span><span class="p">)</span> <span class="nf">Fatal</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">l</span><span class="p">.</span><span class="nf">exec</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">Connector</span><span class="p">.</span><span class="nx">Fatal</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span>
<span class="p">}</span>
       
<span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Log</span><span class="p">)</span> <span class="nf">Error</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">l</span><span class="p">.</span><span class="nf">exec</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">Connector</span><span class="p">.</span><span class="nx">Error</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span>
<span class="p">}</span>
       
<span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Log</span><span class="p">)</span> <span class="nf">Warning</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">l</span><span class="p">.</span><span class="nf">exec</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">Connector</span><span class="p">.</span><span class="nx">Warning</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span>
<span class="p">}</span>
       
<span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Log</span><span class="p">)</span> <span class="nf">Debug</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">l</span><span class="p">.</span><span class="nf">exec</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">Connector</span><span class="p">.</span><span class="nx">Debug</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span>
<span class="p">}</span>
       
<span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Log</span><span class="p">)</span> <span class="nf">Info</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">l</span><span class="p">.</span><span class="nf">exec</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">Connector</span><span class="p">.</span><span class="nx">Info</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></li>
<li>
<p>日志输出</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Log</span><span class="p">)</span> <span class="nf">exec</span><span class="p">(</span><span class="nx">f</span> <span class="kd">func</span><span class="p">(</span><span class="nx">message</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{}),</span> <span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">l</span><span class="p">.</span><span class="nf">Lock</span><span class="p">()</span>
    <span class="k">defer</span> <span class="nx">l</span><span class="p">.</span><span class="nf">Unlock</span><span class="p">()</span>
    <span class="nf">f</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span>
<span class="p">}</span>
       
</code></pre></div></li>
<li>
<p>创建base连接器</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">BaseConnector</span> <span class="kd">struct</span> <span class="p">{</span>
        <span class="nx">sync</span><span class="p">.</span><span class="nx">Mutex</span>
<span class="p">}</span>
       
<span class="kd">func</span> <span class="p">(</span><span class="nx">b</span> <span class="nx">BaseConnector</span><span class="p">)</span> <span class="nf">Output</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 输出日志
</span><span class="c1"></span><span class="p">}</span>
       
</code></pre></div></li>
<li>
<p>创建cloud连接器</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">type</span> <span class="nx">CloudConnector</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">BaseConnector</span>
    <span class="nx">config</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span>
<span class="p">}</span>
       
<span class="kd">func</span> <span class="p">(</span><span class="nx">k</span> <span class="nx">CloudConnector</span><span class="p">)</span> <span class="nf">Output</span><span class="p">(</span><span class="nx">message</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 发送给cloud, 并写入flash
</span><span class="c1"></span><span class="p">}</span>
       
</code></pre></div></li>
<li>
<p>测试</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="nx">log</span> <span class="o">:=</span> <span class="nx">Log</span><span class="p">.</span><span class="nf">NewLog</span><span class="p">()</span>
       
<span class="nx">conn1</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Log</span><span class="p">.</span><span class="nx">BaseConnector</span><span class="p">)</span>
       
<span class="nx">log</span><span class="p">.</span><span class="nf">LoadConnector</span><span class="p">(</span><span class="nx">conn1</span><span class="p">)</span>
       
<span class="nx">log</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;testing&#34;</span><span class="p">)</span> <span class="c1">//本地记录日志
</span><span class="c1"></span>       
       
<span class="nx">conn2</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Log</span><span class="p">.</span><span class="nx">CloudConnector</span><span class="p">)</span>
       
<span class="nx">log</span><span class="p">.</span><span class="nf">LoadConnector</span><span class="p">(</span><span class="nx">conn2</span><span class="p">)</span>
       
<span class="nx">log</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;testing&#34;</span><span class="p">)</span> <span class="c1">//发送cloud, 写入flash
</span></code></pre></div></li>
</ol>
<h4 id="5-总结">5. 总结<a href="#5-总结" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h4>
<p>创建型设计模式的结果都是得到指定对象，模式之间没有好坏，按需使用，只要能够达到解耦的目的，就是好模式。</p>
</li>
</ol>

			</div>
			<hr class="post-end">
			<footer class="post-info">
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>633 Words</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>0001-01-01 08:05 &#43;0805</p>
			</footer>
		</article>
		<div class="post-nav thin">
			<a class="next-post" href="https://example.com/posts/vim/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;Newer</span><br><span></span>
			</a>
			<a class="prev-post" href="https://example.com/posts/%E7%BA%BF%E7%A8%8B%E9%94%81/">
				<span class="post-nav-label">Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span></span>
			</a>
		</div>
		<div id="comments" class="thin">
</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2021 <a href="https://example.com">John Doe</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="https://example.com/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>



	<script src="https://example.com/js/bundle.min.4a9a0ac3d2217822c7865b4161e6c2a71de1d70492264337755427898dd718f6.js" integrity="sha256-SpoKw9IheCLHhltBYebCpx3h1wSSJkM3dVQniY3XGPY=" crossorigin="anonymous"></script>
	

</body>

</html>
